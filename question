from spydr import Spydr


web_driver_google = Spydr()
web_driver_google.open("https://play.google.com/store/apps/details?id=com.bitoex.bitoproapp")

web_driver_google.click('xpath=//*[text()="About this app"]//ancestor::header//i[contains(@class, "google-material-icons")]')
web_driver_google.wait_until_displayed('xpath=//div[@role="dialog"]')
google_version = web_driver_google.find_element('xpath=//*[text()="Version"]//following-sibling::div').text

web_driver_google.quit()

web_driver_apple = Spydr()
web_driver_apple.open("https://apps.apple.com/tw/app/bitopro/id1393007496")

apple_version_with_tile = web_driver_apple.find_element('xpath=//p[contains(@class, "whats-new__latest__version")]').text
apple_version = apple_version_with_tile.split()[-1]

web_driver_apple.quit()

assert google_version == apple_version
